!function(e){"function"==typeof define&&define.amd?define("static/libs/jzx/jquery-validation-ex",["jquery","jquery.validate"],e):e(jQuery)}(function(e){e.validator.addMethod("notEqual",function(t,a,s){return this.optional(a)||t!=e(s).val()},"数据不能相同"),e.validator.addMethod("regex",function(e,t,a){var s=new RegExp(a);return this.optional(t)||s.test(e)},"输入不合法"),e.validator.addMethod("isDate",function(e,t){var a=new RegExp(/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/);return this.optional(t)||a.test(e)},"日期格式不正确！"),e.validator.addMethod("dateGreaterThan",function(t,a,s){return/Invalid|NaN/.test(new Date(t))?this.optional(a)||isNaN(t)&&isNaN(e(s).val())||Number(t)>Number(e(s).val()):this.optional(a)||new Date(t)>new Date(e(s).val())},"开始时间必须大于结束时间！"),jQuery.validator.methods.remote=function(t,a,s){if(this.optional(a))return"dependency-mismatch";var n,i,o=this.previousValue(a);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),o.originalMessage=this.settings.messages[a.name].remote,this.settings.messages[a.name].remote=o.message,s="string"==typeof s&&{url:s}||s,o.old===t?o.valid:(o.old=t,n=this,this.startRequest(a),i={},i[a.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:i,context:n.currentForm,success:function(s){if(!s)return void console.log("ajax error");var i,r,d,u=0===s.code;n.settings.messages[a.name].remote=o.originalMessage,u?(d=n.formSubmitted,n.prepareElement(a),n.formSubmitted=d,n.successList.push(a),delete n.invalid[a.name],n.showErrors()):(i={},r=n.defaultMessage(a,"remote"),i[a.name]=o.message=e.isFunction(r)?r(t):r,n.invalid[a.name]=!0,n.showErrors(i)),o.valid=u,n.stopRequest(a,u)}},s)),"pending")}});